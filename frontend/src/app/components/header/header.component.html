<header class="mb-5">
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container-fluid px-4">
      <img
        class="navbar-brand"
        src="https://localhost:8080/assets/brand/youdemy-logo-light.png"
        height="40"
        alt="logo" />
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarCollapse"
        aria-controls="navbarCollapse"
        aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          <li class="nav-item">
            <a
              [routerLink]="['/new']"
              class="nav-link active"
              aria-current="page"
              >Home</a
            >
          </li>
          <li class="nav-item">
            <a [routerLink]="['/new/courses']" class="nav-link">Courses</a>
          </li>
        </ul>
        <form action="/courses" class="d-flex">
          <input
            class="form-control me-2"
            type="search"
            placeholder="Search courses"
            aria-label="Search"
            name="searchTerm"
            id="searchTerm"
            [(ngModel)]="searchTerm" />
          <button
            id="searchButton"
            class="btn btn-outline-success"
            type="submit"
            (click)="search()">
            Search
          </button>
        </form>
      </div>

      <div *ngIf="logged; else otherCont">
        <div ngbDropdown class="justify-content-end">
          <a
            class="nav-link"
            id="navbarDarkDropdownMenuLink"
            role="button"
            aria-expanded="false"
            ngbDropdownToggle>
            {{ userName }}
          </a>
          <ul
            class="dropdown-menu dropdown-menu-end dropdown-menu-dark"
            aria-labelledby="navbarDarkDropdownMenuLink"
            ngbDropdownMenu>
            <li>
              <a [routerLink]="['/new/myaccount', userId]">My account</a>
            </li>
            <li>
              <a ngbDropdownItem [routerLink]="['/courses/user', userId]"
                >My courses</a
              >
            </li>
            <li>
              <a *ngIf="admin" ngbDropdownItem [routerLink]="['/new/admin']"
                >Admin Dashboard</a
              >
            </li>
            <li>
              <a
                *ngIf="logged"
                (click)="logOut()"
                [routerLink]="['/new/login']"
                ngbDropdownItem
                >Log Out</a
              >
            </li>
          </ul>
        </div>
      </div>
      <ng-template #otherCont>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNavDarkDropdown">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/new/login']">Sign in</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/new/signup']"
                >Sign up for free!</a
              >
            </li>
          </ul>
        </div>
      </ng-template>
    </div>
  </nav>
</header>
